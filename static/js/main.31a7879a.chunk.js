(this["webpackJsonpboulder-services"]=this["webpackJsonpboulder-services"]||[]).push([[0],Array(26).concat([function(e,t,a){e.exports=a(66)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),c=a.n(r),o=(a(31),a(1)),i=a(2),u=(a(32),a(33),a(34),a(35),function(e){var t=l.a.useState(!1),a=Object(o.a)(t,2),n=a[0],r=a[1];return l.a.createElement("div",{className:n?"custom-button active":e.disabled?"custom-button disabled":"custom-button",onTouchStart:function(){return r(!n)},onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},onClick:e.handleClick?e.handleClick:null},l.a.createElement("div",{className:"custom-button-name"},e.text))}),s=(a(36),function(e){var t=l.a.useState(!1),a=Object(o.a)(t,2),n=a[0],r=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(u,{handleClick:function(){return r(!n)},text:"View City"}),l.a.createElement("br",null),l.a.createElement("div",{className:n?"city-drop active":"city-drop"},["Boulder","Denver","All"].map((function(t,a){var n=!1;return e.city&&(n=e.city===t),l.a.createElement(l.a.Fragment,{key:a},l.a.createElement("div",{onClick:function(){return e.setCity(t)},className:n?"city-checks active":"city-checks"},t))}))))}),m=a(10),d=a(9),f=a(8),h=(a(37),function(e){var t=l.a.useState(!1),a=Object(o.a)(t,2),n=a[0],r=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{onMouseEnter:function(){return r(!0)},onMouseOut:function(){return r(!1)},className:n?"detail-delete__symbol active":"detail-delete__symbol",onClick:function(){return function(t){var a=Object(f.a)(e.detailArray);a.splice(t,1),e.handleDelete(a)}(e.index)}},"X"))}),E=(a(38),function(e){var t=l.a.useState(!1),a=Object(o.a)(t,2),n=a[0],r=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("p",{className:n?"detail-add__symbol active":"detail-add__symbol",onMouseOver:function(){return r(!0)},onMouseOut:function(){return r(!1)},onClick:function(t){return e.handleClick(t)}},"+"),"\xa0\xa0"))}),v=(a(39),function(e){var t=l.a.useState([]),a=Object(o.a)(t,2),n=a[0],r=a[1],c=l.a.useState(""),i=Object(o.a)(c,2),u=i[0],s=i[1],d=function(t){r(t),e.addDetail(Object(m.a)({},e.name,t))};l.a.useEffect((function(){Object.keys(e.services).includes(e.name)&&r(e.services[e.name])}),[]);var v=function(t){t.preventDefault();var a=u,l=Object(f.a)(n);l.length>15||(l=l.concat(a),e.addDetail(Object(m.a)({},e.name,l)),s(""),r(l))};return l.a.createElement("div",{className:"detail-text"},n[0]?l.a.createElement(l.a.Fragment,null,n.map((function(e,t){return l.a.createElement("div",{className:"detail-text__delete"},l.a.createElement(h,{detailArray:n,handleDelete:d,index:t}),l.a.createElement("p",{key:t},"\xa0\xa0",e))}))):null,l.a.createElement("div",{className:"detail-add"},l.a.createElement(E,{handleClick:v}),l.a.createElement("textarea",{type:"text",cols:"40",rows:"8",onChange:function(e){return s(e.target.value)},value:u,onKeyPress:function(e){"Enter"===e.key&&v(e)}})))}),p=(a(40),function(e){var t=l.a.useState(!1),a=Object(o.a)(t,2),n=a[0],r=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(u,{handleClick:function(){return r(!n)},text:"View Services"}),l.a.createElement("br",null),l.a.createElement("div",{className:n&&e.add?"filter-drop active__add":n?"filter-drop active":"filter-drop"},["Housing","Medical Care","Mental Health Care","Benefits","Veterans Services","Shelter","Food","Legal","Employment","Civil Rights"].map((function(t,a){var n=!1;return e.services&&(n=!!Object.keys(e.services).includes(t)),l.a.createElement(l.a.Fragment,{key:a},l.a.createElement("div",{onClick:function(){return function(t,a){var n=Object(d.a)({},e.services);a?(delete n[t],e.setServices(n)):e.setServices(Object(d.a)(Object(d.a)({},n),{},Object(m.a)({},t,[])))}(t,n)},className:n?"filter-checks active":"filter-checks"},l.a.createElement("p",null,t)),n&&e.add?l.a.createElement(v,Object.assign({name:t,addDetail:e.addDetail},e)):null)}))))}),b=Object(i.f)((function(e){var t=l.a.useState("Boulder"),a=Object(o.a)(t,2),n=a[0],r=a[1],c=l.a.useState({}),i=Object(o.a)(c,2),m=i[0],d=i[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"What are you looking for?"),l.a.createElement("br",null),l.a.createElement(p,{setServices:d,services:m}),l.a.createElement("h1",null,"Where are you?"),l.a.createElement("br",null),l.a.createElement(s,{setCity:r,city:n}),l.a.createElement(u,{handleClick:function(t){t.preventDefault();var a="All"===n?"":n;e.history.push({pathname:"/resources",state:{city:a,resources:Object.keys(m)}}),window.location.reload(!1)},text:"Find!"}))})),g=function(e){return l.a.createElement("div",{className:"main"},l.a.createElement(b,null))},y=(a(46),a(47),function(e){var t=function(t){if(t.preventDefault(),!(e.data.length>14)){var a=new Date,n={name:e.tempName,value:e.tempVal,timestamp:a.toString().split(" ").splice(0,5).join(" ")};e.handleSubmit(n)}},a=function(e){"Enter"===e.key&&t(e)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"dynamic-detail-box"},l.a.createElement("div",{className:"dynamic-detail-add"},l.a.createElement(E,{handleClick:t,data:e.data}),l.a.createElement("label",null,"information:\xa0"),l.a.createElement("input",{value:e.tempName,onChange:function(t){return e.setTempName(t.target.value)},onKeyPress:a})),l.a.createElement("div",null,l.a.createElement("label",null,"\xa0value"),l.a.createElement("input",{value:e.tempVal,onChange:function(t){return e.setTempVal(t.target.value)},onKeyPress:a}))))}),O=(a(48),function(e){var t=l.a.useState(""),a=Object(o.a)(t,2),n=a[0],r=a[1],c=l.a.useState(""),i=Object(o.a)(c,2),u=i[0],s=i[1],m=function(t){e.handleDynamic(t)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Dynamic Data"),e.dynamicData[0]?Object(f.a)(e.dynamicData).map((function(t,a){return l.a.createElement("div",{className:"dynamic-block"},l.a.createElement(h,{detailArray:e.dynamicData,index:a,handleDelete:m}),l.a.createElement("span",null,l.a.createElement("p",null,"\xa0\xa0",t.name,":\xa0",t.value,"\xa0"),l.a.createElement("p",{className:"dynamic-block__time"},"as of ",t.timestamp)))})):null,l.a.createElement(y,{handleSubmit:function(t){var a=[].concat(Object(f.a)(e.dynamicData),[t]);e.handleDynamic(a),r(""),s("")},data:e.dynamicData,tempName:n,tempVal:u,setTempName:r,setTempVal:s}))}),j=(a(49),function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("label",{htmlFor:e.title},e.label),l.a.createElement("input",{className:"custom-form",type:e.type,name:e.title,value:e.value,onChange:function(t){return e.changeFunction(t.target.value)}}))}),S=function(e){var t=l.a.useState(null),a=Object(o.a)(t,2),n=a[0],r=a[1],c=l.a.useState(!1),i=Object(o.a)(c,2),u=i[0],s=i[1];return l.a.useEffect((function(){fetch("http://localhost:8080/data/register").then((function(e){return e.json()})).then((function(e){r(e)})).then((function(){return s(!0)})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement(l.a.Fragment,null,u?l.a.createElement("select",{onChange:function(t){t.preventDefault();var a=n.find((function(e){return e.title===t.target.value}));"None"!==t.target.value?e.handleResource(a._id):e.handleResource(null)}},l.a.createElement("option",{disabled:!0,selected:"selected"},"Select a Resource"),n.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("option",null,e.title))})),l.a.createElement("option",null,"None")):null)},k=Object(i.f)((function(e){var t=l.a.useState(""),a=Object(o.a)(t,2),n=a[0],r=a[1],c=l.a.useState(""),i=Object(o.a)(c,2),u=i[0],m=i[1],f=l.a.useState(""),h=Object(o.a)(f,2),E=h[0],v=h[1],b=l.a.useState([]),g=Object(o.a)(b,2),y=g[0],k=g[1],w=l.a.useState(""),N=Object(o.a)(w,2),C=N[0],F=N[1],D=l.a.useState({}),x=Object(o.a)(D,2),T=x[0],I=x[1],_=l.a.useState("Boulder"),A=Object(o.a)(_,2),P=A[0],L=A[1],R=l.a.useState([]),M=Object(o.a)(R,2),z=M[0],J=M[1],B=l.a.useState(""),V=Object(o.a)(B,2),G=V[0],H=V[1],W=l.a.useState(null),K=Object(o.a)(W,2),q=K[0],Y=K[1],U=function(e,t){var a={affiliation:e.toString()};fetch("http://localhost:8080/add-user-resource",{method:"POST",body:JSON.stringify(a),headers:{Authorization:"bearer "+t,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.errors?alert(e.errors.map((function(e){return e.msg})).join(" ")):e.success&&window.location.reload()})).catch((function(e){return console.log(e,"err")}))};return l.a.useEffect((function(){e.location.state&&function(){var t=e.location.state.data,a=t.title,n=t.dynamicData,l=t.phone,c=t.address,o=t.url,i=t.website,u=t.services,s=t._id,d=t.city;r(a),m(c),v(l),J(n),k(o),F(i),I(u),H(s),L(d)}()}),[]),l.a.createElement("form",{className:"add-resource-form",onSubmit:function(t){t.preventDefault();var a=localStorage.getItem("token");if(q)U(q,a);else{var l=E.split(/[^\d]/gi).join("");if(10!==l.length&&E)alert("number must be 10 digits long. Please include area code!");else if(Object.keys(T)[0])if(u)if(C){var r=new FormData;if(r.append("title",n),r.append("address",u),r.append("phone",l),r.append("image",y[0]),r.append("dynamicData",JSON.stringify(z)),r.append("services",JSON.stringify(T)),r.append("website",C),r.append("city",P),e.location.state){if(r.append("id",G),!a)return void alert("not authorized");fetch("http://localhost:8080/edit-resource",{method:"POST",body:r,headers:{Authorization:"bearer "+a}}).then((function(e){return e.json()})).then((function(t){if(t.errors)return console.log(t,t.errors),void alert(t.errors.map((function(e){return e.msg})).join(" "));t.success&&(alert("approved!"),e.history.push("/profile"))})).catch((function(e){return console.log(e)}))}else fetch("http://localhost:8080/",{method:"POST",body:r,headers:{Authorization:"bearer "+a}}).then((function(e){return e.json()})).then((function(t){t.errors?alert(t.errors):t.success&&(e.register?U(t.affiliation,a):(alert("approved!"),e.history.push("/admin-resources"),window.location.reload(!1)))})).catch((function(e){return console.log(e)}))}else alert("Please enter a valid website! This can include facebook/instagram links as well.");else alert("Please enter an address.");else alert("please select at least one service")}}},l.a.createElement(j,{title:"title",label:"Organization Name",value:n,type:"text",changeFunction:r}),l.a.createElement(j,{title:"address",label:"Address",value:u,type:"text",changeFunction:m}),l.a.createElement(j,{title:"phone",label:"Phone",value:E,type:"text",changeFunction:v}),l.a.createElement(j,{title:"website",label:"Website",value:C,type:"text",changeFunction:F}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"picture"},"Picture"),l.a.createElement("input",{className:"custom-form",type:"file",name:"picture",onChange:function(e){e.preventDefault(),k([e.target.files[0]])}}),l.a.createElement("br",null),l.a.createElement(s,{setCity:L,city:P}),l.a.createElement("br",null),l.a.createElement(p,Object.assign({setServices:I,services:T,addDetail:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object.keys(e)[0],n=Object(d.a)({},T);t?delete n[a]:n[a]=e[a],I(n)},add:!0},e)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(O,{handleDynamic:J,dynamicData:z}),l.a.createElement(l.a.Fragment,null,e.register?l.a.createElement("p",null,l.a.createElement("label",null,"Or select from existing...."),l.a.createElement(S,{handleResource:Y})):null),l.a.createElement("br",null),l.a.createElement("button",{className:"add-resource-button",type:"submit"},"Submit Information"))})),w=Object(i.f)((function(e){return l.a.createElement("div",{className:"edit-resource"},l.a.createElement(k,e))})),N=(a(50),Object(i.f)((function(e){var t=l.a.useState(""),a=Object(o.a)(t,2),n=a[0],r=a[1],c=l.a.useState(""),i=Object(o.a)(c,2),u=i[0],s=i[1],m=l.a.useState(""),d=Object(o.a)(m,2),f=d[0],h=d[1],E=l.a.useState(null),v=Object(o.a)(E,2),p=v[0],b=v[1],g=l.a.useState(""),y=Object(o.a)(g,2),O=y[0],k=y[1],w=l.a.useState(""),N=Object(o.a)(w,2),C=N[0],F=N[1],D=l.a.useState(""),x=Object(o.a)(D,2),T=x[0],I=x[1];return l.a.createElement("div",{className:"register"},l.a.createElement("form",{className:"register-form",onSubmit:function(t){t.preventDefault();var a,l,r=(a=O)===(l=C)&&a.length>0&&l.length>0;if(!r&&O.length>0&&C.length>0)return I("passwords not equal"),k(""),void F("");if(r){var c={username:n,password:O,confirmPassword:C,affiliation:p,email:u,name:f};fetch("http://localhost:8080/register",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t.errors?alert(t.errors.map((function(e){return e.msg})).join(" ")):t.success?(alert("approved!"),e.history.push("/")):alert("email/username already exists! Go to Login Page, idiot. Or, you can try a different username/email :)")})).catch((function(e){return console.log(e)}))}else I("must enter a value")}},l.a.createElement(j,{title:"username",label:"Username",value:n,type:"text",changeFunction:r}),l.a.createElement(j,{title:"name",label:"Name",value:f,type:"text",changeFunction:h}),l.a.createElement(j,{title:"email",label:"Email",value:u,type:"email",changeFunction:s}),l.a.createElement(j,{title:"password",label:"Password",value:O,type:"password",changeFunction:k}),l.a.createElement(j,{title:"confirm-password",label:"Confirm Password",value:C,type:"password",changeFunction:F}),l.a.createElement("br",null),l.a.createElement("p",null,l.a.createElement("label",null,"Affiliation"),l.a.createElement(S,{handleResource:function(e){b(e)}})),l.a.createElement("br",null),l.a.createElement("button",{type:"submit"},"Submit")),l.a.createElement("p",null,T))}))),C=(a(51),a(52),a(4)),F=Object(i.f)((function(e){var t=l.a.useState(!1),a=Object(o.a)(t,2),n=a[0],r=a[1];return l.a.createElement("div",{className:"resource-box"},l.a.createElement("div",{className:"resource-left"},l.a.createElement("h3",null,e.data.title),l.a.createElement("img",{src:"".concat("http://localhost:8080","/").concat(e.data.url),alt:e.data.title,height:"80vw",width:"80vw"}),l.a.createElement("br",null),l.a.createElement("p",null,e.data.address),l.a.createElement("p",null,e.data.city?e.data.city:"none",", CO"),l.a.createElement("br",null),l.a.createElement("p",null,e.data.phone),l.a.createElement("br",null)),l.a.createElement("div",{className:"resource-right"},l.a.createElement("ul",null,Object.keys(e.data.services).map((function(e){return l.a.createElement("li",null,e)}))),l.a.createElement("br",null),l.a.createElement(u,{handleClick:function(){e.history.push({pathname:"/detail",state:{data:e.data}})},text:"Learn more!"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("a",{className:n?"resource-right__anchor active":"resource-right__anchor",href:e.data.website,onMouseOver:function(){return r(!0)},onMouseOut:function(){return r(!1)}},"Click to visit ",e.data.name),e.admin?l.a.createElement("div",{className:"delete-resource"},e.profile?null:l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:function(t){t.preventDefault();var a={id:e.data._id},n=localStorage.getItem("token");n?fetch("http://localhost:8080/delete-resource",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:"bearer "+n}}).then((function(e){return e.json()})).then((function(t){t.success&&(alert("Successfully Deleted!"),e.history.push("/admin-resources"),window.location.reload(!1))})).catch((function(e){return console.log(e)})):alert("not authorized")}},"Delete")),l.a.createElement(C.b,{to:{pathname:"/edit-resource",state:{data:e.data,edit:!0}}},"Edit")):null))})),D=(a(53),function(){var e=l.a.useState(!0),t=Object(o.a)(e,2),a=t[0],n=t[1],r=["one","two","three","four","five"];l.a.useEffect((function(){return document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState?n(!0):n(!1)}),[])}));return l.a.createElement("div",{className:"loading"},a?new Array(5).fill(4).map((function(e,t){return e-t})).map((function(e,t){return l.a.createElement("div",{key:t,className:"ball "+r[t],onAnimationEnd:function(){return function(e){var t=document.querySelector(".loading div:nth-child(".concat(e+1,")")),a=getComputedStyle(t);t.style.animationDelay="0s",t.style.backgroundColor="rgb(109, 109, 233)",t.style.animationName="slideOver"===a.animationName?"slideBack":"slideOver"}(t)}})})):null)}),x=Object(i.f)((function(e){var t=l.a.useState(null),a=Object(o.a)(t,2),n=a[0],r=a[1],c=l.a.useState(!1),i=Object(o.a)(c,2),u=i[0],s=i[1],m=l.a.useState(!1),d=Object(o.a)(m,2),h=d[0],E=d[1],v=l.a.useState([]),p=Object(o.a)(v,2),b=p[0],g=p[1];return l.a.useEffect((function(){return function(){var t=localStorage.getItem("token");t&&fetch("http://localhost:8080/my-resource",{method:"GET",headers:{Authorization:"Bearer "+t}}).then((function(e){return e.json()})).then((function(e){return r(e)})).then((function(){return fetch("http://localhost:8080/my-likes",{method:"GET",headers:{Authorization:"Bearer "+t}}).then((function(e){return e.json()})).then((function(t){t.message&&e.logout(),g(Object(f.a)(t.likes))})).then((function(){return!0})).catch((function(e){return console.log(e)}))})).then((function(){s(!0),E(!0)})).catch((function(e){return console.log(e)}))}()}),[]),l.a.createElement(l.a.Fragment,null,h?null:l.a.createElement(D,null),l.a.createElement(l.a.Fragment,{hidden:!h},l.a.createElement("div",{className:"profile"},l.a.createElement("h1",null,"Welcome back ",localStorage.getItem("name"),"!"),l.a.createElement("br",null),l.a.createElement("div",{className:"profile-likes"},u&&b[0]?l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Liked Resources"),b.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,e.title),e.dynamicData.map((function(e){return l.a.createElement("ul",null,l.a.createElement("span",null,e.name,":\xa0",e.value,"\xa0as of",l.a.createElement("div",{style:{opacity:".5"}},e.timestamp)))})))}))):u?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"no liked resources :(")):null),l.a.createElement("div",{className:"profile-resource"},u&&n?l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Affiliated Resource"),l.a.createElement("div",null,l.a.createElement(F,{admin:!0,profile:!0,data:n}))):u?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"profile-section"},l.a.createElement("p",null,"Want to add a new resource? This will help people in need access necessary resources in their area. This section allows you to add some vital information for your resource page. Along with the basics, we've also included a section to clarify how you assist with certain services along with the option to add 'Dynamic Data.'  Dynamic Data is simply information about your nonprofit that will change on a daily basis (think beds, available housing applications, new services, etc). This information will be featured on the users profile when they sign in to ensure that they have this information immediately. It also includes a timestamp to make sure dynamic information is up-to-date. Feel free to visit the 'about' section for more details!"),l.a.createElement(k,{register:!0}))):null))))})),T=(a(54),function(e){var t=l.a.useState(!1),a=Object(o.a)(t,2),n=a[0],r=a[1];return l.a.createElement("div",{className:"link-styled-block"},l.a.createElement(C.c,{onMouseOver:function(){r(!0)},onMouseOut:function(){r(!1)},className:"nav ".concat(n?"active":""),activeClassName:"nav-active",exact:"/"===e.loc,to:e.loc},e.name))}),I=(a(55),Object(i.f)((function(e){var t=l.a.useState(""),a=Object(o.a)(t,2),n=a[0],r=a[1],c=l.a.useState(""),i=Object(o.a)(c,2),s=i[0],m=i[1],d={username:n,password:s},f=function(t){e.handleLogin(t,d)};return l.a.useEffect((function(){e.active||(r(""),m(""))})),l.a.createElement("div",{className:e.active?"login-comp active":"login-comp"},l.a.createElement("div",{className:"login-form",onKeyPress:function(e){"Enter"===e.key&&(n&&s?f(e):alert("can't have blank username or password"))}},l.a.createElement(j,{title:"email/username",label:"Email",value:n,type:"text",changeFunction:r,color:"white"}),l.a.createElement(j,{title:"password",label:"Password",value:s,type:"password",changeFunction:m,color:"white"}),l.a.createElement("br",null),l.a.createElement(u,{text:"Login",handleClick:f})),l.a.createElement("div",{className:"login-text"},l.a.createElement("br",null),l.a.createElement(T,{loc:"/register",name:"Not a member?"})))}))),_=(a(56),Object(i.f)((function(e){var t=l.a.useState(!1),a=Object(o.a)(t,2),n=a[0],r=a[1],c=l.a.useState(!1),i=Object(o.a)(c,2),s=i[0],m=i[1],d=l.a.useState(!1),f=Object(o.a)(d,2),h=f[0],E=f[1],v=l.a.useRef(!1),p=function(e){v.current.contains(e.target)||(m(!1),E(!1))};return l.a.useEffect((function(){return document.addEventListener("mousedown",p),function(){document.removeEventListener("mousedown",p)}})),l.a.useEffect((function(){return r(e.isAuth)}),[]),l.a.createElement("div",{ref:v},l.a.createElement("div",{className:"block",onClick:function(){return m(!s)}},l.a.createElement("div",{className:s?"line active":"line"}),l.a.createElement("div",{className:s?"line1 active":"line1"})),l.a.createElement("div",{className:s?"nav-bar":"nav-bar active"},n?l.a.createElement(l.a.Fragment,null,l.a.createElement(T,{loc:"/",name:"Home"}),l.a.createElement(T,{loc:"/resources",name:"Resources"}),l.a.createElement(T,{loc:"/about",name:"About"}),e.admin?l.a.createElement(l.a.Fragment,null,l.a.createElement(T,{loc:"/admin-resources",name:"Admin Resources"})):null,l.a.createElement(T,{loc:"/profile",name:"Profile"}),l.a.createElement("div",{className:"nav-logout"},l.a.createElement(u,{handleClick:function(t){t.preventDefault(),m(!1),setTimeout((function(){return e.logout()}),400)},text:"Logout",logout:"true"}))):l.a.createElement(l.a.Fragment,null,l.a.createElement(T,{loc:"/",name:"Home"}),l.a.createElement(T,{loc:"/resources",name:"Resources"}),l.a.createElement(T,{loc:"/about",name:"About"}),l.a.createElement("div",{className:h?"nav-login active":"nav-login"},l.a.createElement("p",{onClick:function(){return E(!h)}},"Login")),l.a.createElement(l.a.Fragment,null,l.a.createElement(I,Object.assign({},e,{setActive:m,active:h}))))))}))),A=(a(57),a(58),function(e){var t=l.a.useState(""),a=Object(o.a)(t,2),n=a[0],r=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("h2",null,"Tell us what you think!"),l.a.createElement("div",{className:e.active?"add-review active":"add-review"},l.a.createElement("textarea",{className:e.active?"add-review-text active":"add-review-text",onChange:function(e){return r(e.target.value)},value:n}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:e.active?"add-review-button active":"add-review-button"},l.a.createElement(u,{handleClick:function(t){var a=n;e.handleSubmitReview(t,a),r("")},text:"submit"}))))}),P=function(e){return l.a.createElement(l.a.Fragment,null,e.data[0]?e.data.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"Reviewed by: ",e[0]),l.a.createElement("p",null,e[1]))})):l.a.createElement("p",null,"no reviews!"))},L=function(e){l.a.useEffect((function(){return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}));var t=function(t){a.current.contains(t.target)||e.handleClickOff()},a=l.a.useRef(null);return l.a.createElement("div",{ref:a,className:"review-box ".concat(e.active?"active":"")},l.a.createElement("p",{onClick:e.handleClickOff},"X"),"list"===e.type?l.a.createElement(P,e):l.a.createElement(A,e))},R=(a(59),function(e){var t=l.a.useState(!1),a=Object(o.a)(t,2),n=a[0],r=a[1];return l.a.createElement("div",{className:"like-block"},l.a.createElement("br",null),e.userLikes?l.a.createElement("p",null,"liked!"):l.a.createElement("p",null,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),l.a.createElement("i",{className:n?"fa fa-thumbs-o-up active":"fa fa-thumbs-o-up",onClick:e.handleLike,onMouseEnter:function(){return r(!0)},onMouseOut:function(){return r(!1)}}))}),M=(a(60),Object(i.f)((function(e){var t=l.a.useState({}),a=Object(o.a)(t,2),n=a[0],r=a[1],c=l.a.useState(!1),i=Object(o.a)(c,2),s=i[0],m=i[1],f=l.a.useState(!1),h=Object(o.a)(f,2),E=h[0],v=h[1],p=l.a.useState(!1),b=Object(o.a)(p,2),g=b[0],y=b[1],O=l.a.useState([]),j=Object(o.a)(O,2),S=j[0],k=j[1],w=l.a.useState(!1),N=Object(o.a)(w,2),C=N[0],F=N[1],D=function(e){!function(e){var t=localStorage.getItem("token");t&&fetch("http://localhost:8080/my-likes",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"bearer "+t}}).then((function(e){return e.json()})).then((function(t){t.likes&&t.likes.includes(e)&&F(!0)})).catch((function(e){return console.log(e)}))}(e._id),e&&fetch("http://localhost:8080/details?id="+e._id,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){r(Object(d.a)(Object(d.a)({},e),{},{details:t.data}))})).then((function(){return m(!0)})).catch((function(e){return console.log(e)}))};return l.a.useState((function(){return e.location.state?D(e.location.state.data):m(!0)}),[]),l.a.createElement("div",{className:"resource-detail"},Object.keys(n)[0]&&s?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"left-detail"},l.a.createElement("h3",null,n.title),l.a.createElement("br",null),l.a.createElement("a",{href:n.website},l.a.createElement("img",{src:"".concat("http://localhost:8080","/").concat(n.url),alt:n.title,height:"auto",width:"80%"})),l.a.createElement("br",null),l.a.createElement("p",null,n.address),l.a.createElement("p",null,n.city?"".concat(n.city,", CO"):"none specified"),l.a.createElement("p",null,n.phone),l.a.createElement("br",null),n.dynamicData.map((function(e){return l.a.createElement("div",{className:"detail-dynamic-data"},l.a.createElement("span",null,l.a.createElement("p",null,e.name,":\xa0",e.value,"\xa0")),l.a.createElement("p",{className:"detail-dynamic-data__time"},"updated ",e.timestamp))})),l.a.createElement("div",{className:"detail-reviews"},l.a.createElement(l.a.Fragment,null,e.admin?null:l.a.createElement(u,{text:"Review",disabled:!!E,handleClick:function(e){e.preventDefault(),localStorage.getItem("token")?(window.scrollTo({top:0,left:0,behavior:"smooth"}),g&&y(!1),v(!0)):alert("You gotta sign in to review a resource!")}}),e.admin?null:l.a.createElement(u,{text:"See All Reviews",disabled:!!g,handleClick:function(e){e.preventDefault(),window.scrollTo({top:0,left:0,behavior:"smooth"}),E&&v(!1),fetch("http://localhost:8080"+"/review-list?resId=".concat(n._id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.success&&k(e.data)})).then((function(){return y(!0)})).catch((function(e){return console.log(e)}))}}),e.profile||e.admin?null:l.a.createElement(l.a.Fragment,null,l.a.createElement(R,{userLikes:C,handleLike:function(){var e=localStorage.getItem("token");if(e){var t={likedId:n._id};fetch("http://localhost:8080/like",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"bearer "+e}}).then((function(e){return e.json()})).then((function(e){console.log("response",e),e.success?F(!0):e.message&&alert(e.message)})).catch((function(e){return console.log(e)}))}else alert("You gotta be signed in to like a resource!")}}))))),l.a.createElement("div",{className:"right-detail"},Object.keys(n.services).map((function(e){return l.a.createElement("div",{className:"detail-service"},l.a.createElement("h4",null,e),l.a.createElement("ul",null,n.services[e].map((function(e){return l.a.createElement("li",null,e)}))))}))),l.a.createElement(L,{type:"list",active:g,data:S,handleClickOff:function(){return y(!1)}}),l.a.createElement(L,{type:"review",active:E,handleSubmitReview:function(e,t){e.preventDefault();var a=localStorage.getItem("token"),l={resourceId:n._id,review:t};a?fetch("http://localhost:8080/review",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"bearer "+a}}).then((function(e){return e.json()})).then((function(e){e.success?alert("thanks for reviewing!"):alert(e.message),v(!1)})).catch((function(e){console.log(e),alert("hmm somthing went wrong. Please make sure you have a reistered affiliation before reviewing!"),v(!1)})):alert("Oh No! You're not a user! come register :)")},handleClickOff:function(){return v(!1)}})):s?l.a.createElement("p",null,"Thanks for checking out resource details! Head over to the resoure page to browse a list of available resources in your area"):null,E||g?l.a.createElement("div",{className:"detail-layer"}):null)}))),z=(a(61),a(62),a(63),function(e){var t=l.a.useState([]),a=Object(o.a)(t,2),n=a[0],r=a[1],c=l.a.useState(!1),i=Object(o.a)(c,2),s=i[0],m=i[1],d=l.a.useState(1),h=Object(o.a)(d,2),E=h[0],v=h[1],p=l.a.useState(0),b=Object(o.a)(p,2),g=b[0],y=b[1],O=function(e){var t="next"===e?E+1:E-1;return v(t),j(t)},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="http://localhost:8080"+"/data/resources?page=".concat(t,"&city=").concat(e.city?e.city:"","&services=").concat(e.services?e.services:"");fetch(a).then((function(e){return e.json()})).then((function(e){y(e.totalRes),r(Object(f.a)(e.resources))})).then((function(){e.handleLoad&&e.handleLoad(!0),m(!0)})).catch((function(e){return console.log("errorrrrr",e)}))};return l.a.useEffect((function(){j()}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"resource-list"},n[0]&&s?n.map((function(t,a){return l.a.createElement(l.a.Fragment,null,l.a.createElement(F,{id:a+1===n.length?0:a+1,data:t,admin:e.admin}))})):l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"No data!"))),l.a.createElement("div",{className:"button-block"},E>1?l.a.createElement("div",{className:"button-block__spec",onClick:function(){return O("prev")}},l.a.createElement(u,{text:"previous"})):null,E<g/4?l.a.createElement("div",{className:"button-block__spec",onClick:function(){return O("next")}},l.a.createElement(u,{text:"next"})):null))}),J=function(e){return l.a.createElement("div",{className:"admin"},l.a.createElement(k,null),l.a.createElement(z,{admin:!0,city:e.location.state?e.location.state.city:""}))},B=(a(64),function(e){var t=l.a.useState(!1),a=Object(o.a)(t,2),n=a[0],r=a[1],c=e.location.state?e.location.state.city:"",i=e.location.state?e.location.state.resources:"";return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:n?"loading-page":"resource-page"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),n?null:l.a.createElement(D,null),l.a.createElement("div",{hidden:!n},l.a.createElement(b,null),l.a.createElement(z,{handleLoad:r,city:c,services:i}))))}),V=(a(65),function(){return l.a.createElement("div",{className:"about-page"},l.a.createElement("p",null,"Thanks for taking a look at this site! As you can see it's constantly being improved and expanded upon. The goal of this site is to provide a platform to allow those who are disenfranchised to have access to afforable and easy-to-understand resources. I want this to also be a platform for case managers to communicate effectively about non-confidential information (bed availability, special events, open housing applications, etc) so everyone can coordinate and collaborate to support people in need. This site is open source, and if you'd like to contribute I'd love any help I can get! Feel free to take a look at the source code, fork the project, and send pull requests to me ",l.a.createElement("a",{href:"https://github.com/free-connect"},"here"),". Thanks again for checking it out!",l.a.createElement("br",null),l.a.createElement("br",null),"-David"))}),G=function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("p",null,"OH NO! That page doesn't exist!!! So sad"))};var H=Object(i.f)((function(e){var t=l.a.useState(!1),a=Object(o.a)(t,2),n=a[0],r=a[1],c=l.a.useState(null),u=Object(o.a)(c,2),s=u[0],m=u[1],d=l.a.useState(null),f=Object(o.a)(d,2),h=f[0],E=f[1],v=l.a.useState(!1),p=Object(o.a)(v,2),b=p[0],y=p[1];l.a.useEffect((function(){!function(){var e=localStorage.getItem("token"),t=localStorage.getItem("expiryDate");if(e&&t)if(new Date(t)<=new Date)O();else{r(!0);var a=localStorage.getItem("userId");E(a),m(e)}}(),y(!0)}),[]);var O=function(){r(!1),m(null),E(null),localStorage.removeItem("token"),localStorage.removeItem("expiryDate"),localStorage.removeItem("userId"),localStorage.removeItem("name"),e.history.push("/"),window.location.reload(!1)};return l.a.createElement(l.a.Fragment,null,b?l.a.createElement(_,{logout:O,admin:"5ec823cbccd1391988882a17"===h,isAuth:n,handleLogin:function(t,a){t.preventDefault();var n={username:a.username,password:a.password};fetch("http://localhost:8080/login",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){if(t.message)return r(!1),void alert(t.message);t.success&&(m(t.token),E(t.userId),r(!0),alert("logged in successfully!")),localStorage.setItem("token",t.token),localStorage.setItem("userId",t.userId),localStorage.setItem("name",t.name);var a=new Date((new Date).getTime()+36e5);localStorage.setItem("expiryDate",a.toISOString()),e.history.push("/profile"),window.location.reload(!1)})).catch((function(e){console.log(e),r(!1)}))}}):null,l.a.createElement("div",{className:"App"},l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",component:g}),l.a.createElement(i.a,{exact:!0,path:"/register",component:N}),l.a.createElement(i.a,{exact:!0,path:"/resources",component:B}),l.a.createElement(i.a,{exact:!0,path:"/about",component:V}),l.a.createElement(i.a,{exact:!0,path:"/detail",component:M}),n?l.a.createElement(i.a,{exact:!0,path:"/edit-resource",component:w}):null,n&&"5ec823cbccd1391988882a17"===h?l.a.createElement(i.a,{exact:!0,path:"/admin-resources",component:J}):null,n?l.a.createElement(i.a,{exact:!0,path:"/profile",render:function(){return l.a.createElement(x,{logout:O,token:s})}}):null,l.a.createElement(i.a,{path:"*",component:G}))))})),W=a(22),K=a(23),q=a(25),Y=a(24),U=function(e){Object(q.a)(a,e);var t=Object(Y.a)(a);function a(){return Object(W.a)(this,a),t.apply(this,arguments)}return Object(K.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null)}}]),a}(n.Component),X=Object(i.f)(U);c.a.render(l.a.createElement(C.a,{basename:"/free-connect-frontend"},l.a.createElement(X,null),l.a.createElement(H,null)),document.getElementById("root"))}]),[[26,1,2]]]);
//# sourceMappingURL=main.31a7879a.chunk.js.map